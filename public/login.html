<!DOCTYPE html>
<html>
<head>

  <title>Login Page</title>

  <link href="loginstyle.css" type="text/css" rel="stylesheet">

  <script src="https://code.jquery.com/jquery-3.2.0.js"></script>
</head>
<body>

  <!-- Navbar -->
  <header>
    <ul>
      <a href="index.html"><li id="home">Home</li></a>
      <a href="cart.html"><li id="cart">Cart (0)</li></a>
      <a href="login.html"><li id="login">Login/Register</li></a>
    </ul>
  </header>


  <div>
    <h1>Log In</h1>
  </div>


  <div id="bulk">
    <div class="input">
      <p>Email:</p>
      <p><input id="email" type="username"></p>

      <p>Password:</p>
      <p><input id="password" type="password"></p>
    </div>

    <div class="button">
      <button>
        Login
      </button>
    </div>
    <div class="register">
      <p>New User? <a href="register.html"><span>Register here.</span></a></p>
    </div>
  </div>


  <script>

      // carry cart over
      $.ajax({
        url: "http://localhost:3000/cart",
        type: "GET",
        success: function(e){
          var cart = e;

          var cartNumber = 0;

          for (var i = 0; i < cart.length; i++){
              cartNumber += parseInt(cart[i]["quantity"]);
          }

          $("#cart").html("Cart (" + cartNumber + ")");
        }
      });

      $.ajax({
        url: "http://localhost:3000/users",
        type: "GET",
        success: function(e){
            // console.log(e);

        }
      });

      $('.button').on('click', 'button', function(e){
        console.log('hello');

        var email = $('#email').val();

        var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;

        if(!re.test(email)){
          alert("Invalid email format");
          return;
        }

        // check if user/pass is in database

      })



  </script>

</body>
</html>
